var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}const u="undefined"!=typeof window;let l=u?()=>window.performance.now():()=>Date.now(),a=u?t=>requestAnimationFrame(t):t;const d=new Set;let f,m=!1;function p(){d.forEach(t=>{t[0](l())||(d.delete(t),t[1]())}),(m=d.size>0)&&a(p)}function h(t,n){t.appendChild(n)}function g(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function x(){return v(" ")}function b(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function _(t,n){n=""+n,t.data!==n&&(t.data=n)}function C(t,n,e){t.classList[e?"add":"remove"](n)}let k,w=0,E={};function O(t,n,e,o,r,i,s,c=0){const u=16.666/o;let l="{\n";for(let t=0;t<=1;t+=u){const o=n+(e-n)*i(t);l+=100*t+`%{${s(o,1-o)}}\n`}const a=l+`100% {${s(e,1-e)}}\n}`,d=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(a)}_${c}`;if(!E[d]){if(!f){const t=y("style");document.head.appendChild(t),f=t.sheet}E[d]=!0,f.insertRule(`@keyframes ${d} ${a}`,f.cssRules.length)}const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${r}ms 1 both`,w+=1,d}function M(t,n){t.style.animation=(t.style.animation||"").split(", ").filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")).join(", "),n&&!--w&&a(()=>{if(w)return;let t=f.cssRules.length;for(;t--;)f.deleteRule(t);E={}})}function S(t){k=t}const z=[],A=[],j=[],R=[],L=Promise.resolve();let N,P=!1;function q(t){j.push(t)}function X(){const t=new Set;do{for(;z.length;){const t=z.shift();S(t),B(t.$$)}for(;A.length;)A.pop()();for(let n=0;n<j.length;n+=1){const e=j[n];t.has(e)||(e(),t.add(e))}j.length=0}while(z.length);for(;R.length;)R.pop()();P=!1}function B(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(q))}function D(t,n,e){t.dispatchEvent(function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(`${n?"intro":"outro"}${e}`))}const F=new Set;let H;function T(){H={r:0,c:[],p:H}}function G(){H.r||r(H.c),H=H.p}function I(t,n){t&&t.i&&(F.delete(t),t.i(n))}function J(t,n,e,o){if(t&&t.o){if(F.has(t))return;F.add(t),H.c.push(()=>{F.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const K={duration:0};function Q(e,o,s,c){let u=o(e,s),f=c?0:1,h=null,g=null,$=null;function y(){$&&M(e,$)}function v(t,n){const e=t.b-f;return n*=Math.abs(e),{a:f,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function x(o){const{delay:i=0,duration:s=300,easing:c=n,tick:x=t,css:b}=u||K,_={start:l()+i,b:o};o||(_.group=H,H.r+=1),h?g=_:(b&&(y(),$=O(e,f,o,s,i,c,b)),o&&x(0,1),h=v(_,s),q(()=>D(e,o,"start")),function(t){let n;m||(m=!0,a(p)),new Promise(e=>{d.add(n=[t,e])})}(t=>{if(g&&t>g.start&&(h=v(g,s),g=null,D(e,h.b,"start"),b&&(y(),$=O(e,f,h.b,h.duration,0,c,u.css))),h)if(t>=h.end)x(f=h.b,1-f),D(e,h.b,"end"),g||(h.b?y():--h.group.r||r(h.group.c)),h=null;else if(t>=h.start){const n=t-h.start;f=h.a+h.d*c(n/h.duration),x(f,1-f)}return!(!h&&!g)}))}return{run(t){i(u)?(N||(N=Promise.resolve()).then(()=>{N=null}),N).then(()=>{u=u(),x(t)}):x(t)},end(){y(),h=g=null}}}function U(t,n){J(t,1,1,()=>{n.delete(t.key)})}function V(t,n,o){const{fragment:s,on_mount:c,on_destroy:u,after_update:l}=t.$$;s.m(n,o),q(()=>{const n=c.map(e).filter(i);u?u.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(q)}function W(t,n){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function Y(t,n){t.$$.dirty||(z.push(t),P||(P=!0,L.then(X)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function Z(n,e,i,s,c,u){const l=k;S(n);const a=e.props||{},d=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:null};let f=!1;var m;d.ctx=i?i(n,a,(t,e,o=e)=>(d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),f&&Y(n,t)),e)):a,d.update(),f=!0,r(d.before_update),d.fragment=s(d.ctx),e.target&&(e.hydrate?d.fragment.l((m=e.target,Array.from(m.childNodes))):d.fragment.c(),e.intro&&I(n.$$.fragment),V(n,e.target,e.anchor),X()),S(l)}class tt{$destroy(){W(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const nt=[];function et(n,e=t){let o;const r=[];function i(t){if(s(n,t)&&(n=t,o)){const t=!nt.length;for(let t=0;t<r.length;t+=1){const e=r[t];e[1](),nt.push(e,n)}if(t){for(let t=0;t<nt.length;t+=2)nt[t][0](nt[t+1]);nt.length=0}}}return{set:i,update:function(t){i(t(n))},subscribe:function(s,c=t){const u=[s,c];return r.push(u),1===r.length&&(o=e(i)||t),s(n),()=>{const t=r.indexOf(u);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const ot=et([{x:1,y:1,done:!1,text:"",addClass:!1,group:["a","d","s"]},{x:2,y:1,done:!1,text:"",addClass:!1,group:["a","f"]},{x:3,y:1,done:!1,text:"",addClass:!1,group:["a","g","z"]},{x:1,y:2,done:!1,text:"",addClass:!1,group:["b","d"]},{x:2,y:2,done:!1,text:"",addClass:!1,group:["b","f","s","z"]},{x:3,y:2,done:!1,text:"",addClass:!1,group:["b","g"]},{x:1,y:3,done:!1,text:"",addClass:!1,group:["c","d","z"]},{x:2,y:3,done:!1,text:"",addClass:!1,group:["c","f"]},{x:3,y:3,done:!1,text:"",addClass:!1,group:["c","g","s"]}]),rt=et({a:[],b:[],c:[],d:[],f:[],g:[],s:[],z:[]});function it(t,{delay:n=0,duration:e=400}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:e,css:t=>`opacity: ${t*o}`}}function st(n){var e,o,r=n.item.text+"";return{c(){e=y("div"),o=v(r)},m(t,n){g(t,e,n),h(e,o)},p(t,n){t.item&&r!==(r=n.item.text+"")&&_(o,r)},i:t,o:t,d(t){t&&$(e)}}}function ct(t){var n,e,o,r,i=t.item.text+"";return{c(){n=y("div"),e=v(i)},m(t,o){g(t,n,o),h(n,e),r=!0},p(t,n){r&&!t.item||i===(i=n.item.text+"")||_(e,i)},i(t){r||(q(()=>{o||(o=Q(n,it,{delay:200,duration:400},!0)),o.run(1)}),r=!0)},o(t){o||(o=Q(n,it,{delay:200,duration:400},!1)),o.run(0),r=!1},d(t){t&&($(n),o&&o.end())}}}function ut(t){var n,e,o,r,i,s=[ct,st],c=[];function u(t,n){return"O"===n.item.text?0:1}return e=u(0,t),o=c[e]=s[e](t),{c(){var e,r,s,c;n=y("div"),o.c(),b(n,"class","item svelte-1vl1567"),C(n,"completed",t.item.addClass),e=n,r="click",s=t.click_handler,e.addEventListener(r,s,c),i=(()=>e.removeEventListener(r,s,c))},m(t,o){g(t,n,o),c[e].m(n,null),r=!0},p(t,r){var i=e;(e=u(0,r))===i?c[e].p(t,r):(T(),J(c[i],1,1,()=>{c[i]=null}),G(),(o=c[e])||(o=c[e]=s[e](r)).c(),I(o,1),o.m(n,null)),t.item&&C(n,"completed",r.item.addClass)},i(t){r||(I(o),r=!0)},o(t){J(o),r=!1},d(t){t&&$(n),c[e].d(),i()}}}function lt(t,n,e){let{item:o={}}=n;return t.$set=(t=>{"item"in t&&e("item",o=t.item)}),{item:o,click_handler:function(n){!function(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach(t=>t(n))}(t,n)}}}class at extends tt{constructor(t){super(),Z(this,t,lt,ut,s,["item"])}}function dt(t,n,e){const o=Object.create(t);return o.item=n[e],o.i=e,o}function ft(t,n){var e,o;var r=new at({props:{item:n.item}});return r.$on("click",function(){return n.click_handler(n)}),{key:t,first:null,c(){e=v(""),r.$$.fragment.c(),this.first=e},m(t,n){g(t,e,n),V(r,t,n),o=!0},p(t,e){n=e;var o={};t.$items&&(o.item=n.item),r.$set(o)},i(t){o||(I(r.$$.fragment,t),o=!0)},o(t){J(r.$$.fragment,t),o=!1},d(t){t&&$(e),W(r,t)}}}function mt(t){var n,e;return{c(){n=y("h2"),e=v(t.vin),b(n,"class","vin svelte-1onukrt")},m(t,o){g(t,n,o),h(n,e)},p(t,n){t.vin&&_(e,n.vin)},d(t){t&&$(n)}}}function pt(t){var n,e,o;return{c(){(n=y("h2")).textContent="Игра окончена",e=x(),(o=y("h2")).textContent="Чтобы начать заново - обновите страницу"},m(t,r){g(t,n,r),g(t,e,r),g(t,o,r)},d(t){t&&($(n),$(e),$(o))}}}function ht(t){var n,e,o,r,i,s,c,u=[],l=new Map;let a=t.$items;const d=t=>t.i;for(let n=0;n<a.length;n+=1){let e=dt(t,a,n),o=d(e);l.set(o,u[n]=ft(o,e))}var f=t.vin&&mt(t),m=t.isEnd&&pt();return{c(){n=y("div"),(e=y("h2")).textContent="крестики-нолики",o=x(),r=y("div");for(let t=0;t<u.length;t+=1)u[t].c();i=x(),f&&f.c(),s=x(),m&&m.c(),b(r,"class","wrap svelte-1onukrt"),b(n,"class","container svelte-1onukrt")},m(t,l){g(t,n,l),h(n,e),h(n,o),h(n,r);for(let t=0;t<u.length;t+=1)u[t].m(r,null);h(n,i),f&&f.m(n,null),h(n,s),m&&m.m(n,null),c=!0},p(t,e){const o=e.$items;T(),u=function(t,n,e,o,r,i,s,c,u,l,a,d){let f=t.length,m=i.length,p=f;const h={};for(;p--;)h[t[p].key]=p;const g=[],$=new Map,y=new Map;for(p=m;p--;){const t=d(r,i,p),c=e(t);let u=s.get(c);u?o&&u.p(n,t):(u=l(c,t)).c(),$.set(c,g[p]=u),c in h&&y.set(c,Math.abs(p-h[c]))}const v=new Set,x=new Set;function b(t){I(t,1),t.m(c,a),s.set(t.key,t),a=t.first,m--}for(;f&&m;){const n=g[m-1],e=t[f-1],o=n.key,r=e.key;n===e?(a=n.first,f--,m--):$.has(r)?!s.has(o)||v.has(o)?b(n):x.has(r)?f--:y.get(o)>y.get(r)?(x.add(o),b(n)):(v.add(r),f--):(u(e,s),f--)}for(;f--;){const n=t[f];$.has(n.key)||u(n,s)}for(;m;)b(g[m-1]);return g}(u,t,d,1,e,o,l,r,U,ft,null,dt),G(),e.vin?f?f.p(t,e):((f=mt(e)).c(),f.m(n,s)):f&&(f.d(1),f=null),e.isEnd?m||((m=pt()).c(),m.m(n,null)):m&&(m.d(1),m=null)},i(t){if(!c){for(let t=0;t<a.length;t+=1)I(u[t]);c=!0}},o(t){for(let t=0;t<u.length;t+=1)J(u[t]);c=!1},d(t){t&&$(n);for(let t=0;t<u.length;t+=1)u[t].d();f&&f.d(),m&&m.d()}}}function gt(t,n,e){let o,r;c(t,rt,t=>{e("$groups",o=t)}),c(t,ot,t=>{e("$items",r=t)});let i,s="",u=!1,l=[];function a(t){for(let n in o)t.group.some(t=>t==n)&&o[n].push(t);l=r.filter(t=>!t.done)}function d(t){t.text="O",t.done=!0,ot.set(r)}function f(t){if(!u)if(t.done)alert("Эта клетка уже заполнена");else{t.text="X",t.done=!0,ot.set(r),a(t);for(let t in o)if(3===o[t].length&&o[t].every(t=>"X"===t.text))return o[t].forEach(t=>t.addClass=!0),e("vin",s="Вы победили!"),void e("isEnd",u=!0);for(let t in o)if(2===o[t].length&&"O"===o[t][0].text&&"O"===o[t][1].text)return d(i=l.find(n=>n.group.some(n=>n==t))),a(i),o[t].forEach(t=>t.addClass=!0),e("vin",s="Победил компьютер"),void e("isEnd",u=!0);for(let t in o)if(2===o[t].length&&o[t][0].text===o[t][1].text)return d(i=l.find(n=>n.group.some(n=>n==t))),void a(i);0!==l.length?(d(l[0]),a(l[0])):e("isEnd",u=!0)}}return{vin:s,isEnd:u,mainHandler:f,$items:r,click_handler:({item:t})=>f(t)}}return new class extends tt{constructor(t){super(),Z(this,t,gt,ht,s,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
