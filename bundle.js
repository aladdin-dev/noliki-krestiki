var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}function c(t,n,e=n){return t.set(e),n}const l="undefined"!=typeof window;let a=l?()=>window.performance.now():()=>Date.now(),d=l?t=>requestAnimationFrame(t):t;const f=new Set;let p,m=!1;function g(){f.forEach(t=>{t[0](a())||(f.delete(t),t[1]())}),(m=f.size>0)&&d(g)}function h(t,n){t.appendChild(n)}function $(t,n,e){t.insertBefore(n,e||null)}function b(t){t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function y(){return _(" ")}function x(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function C(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function k(t,n){n=""+n,t.data!==n&&(t.data=n)}function w(t,n,e){t.classList[e?"add":"remove"](n)}let E,O=0,S={};function N(t,n,e,o,i,r,s,u=0){const c=16.666/o;let l="{\n";for(let t=0;t<=1;t+=c){const o=n+(e-n)*r(t);l+=100*t+`%{${s(o,1-o)}}\n`}const a=l+`100% {${s(e,1-e)}}\n}`,d=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(a)}_${u}`;if(!S[d]){if(!p){const t=v("style");document.head.appendChild(t),p=t.sheet}S[d]=!0,p.insertRule(`@keyframes ${d} ${a}`,p.cssRules.length)}const f=t.style.animation||"";return t.style.animation=`${f?`${f}, `:""}${d} ${o}ms linear ${i}ms 1 both`,O+=1,d}function z(t,n){t.style.animation=(t.style.animation||"").split(", ").filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")).join(", "),n&&!--O&&d(()=>{if(O)return;let t=p.cssRules.length;for(;t--;)p.deleteRule(t);S={}})}function M(t){E=t}const A=[],j=[],B=[],J=[],P=Promise.resolve();let R,q=!1;function L(t){B.push(t)}function T(){const t=new Set;do{for(;A.length;){const t=A.shift();M(t),X(t.$$)}for(;j.length;)j.pop()();for(let n=0;n<B.length;n+=1){const e=B[n];t.has(e)||(e(),t.add(e))}B.length=0}while(A.length);for(;J.length;)J.pop()();q=!1}function X(t){t.fragment&&(t.update(t.dirty),i(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(L))}function D(t,n,e){t.dispatchEvent(function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(`${n?"intro":"outro"}${e}`))}const F=new Set;let H;function G(){H={r:0,c:[],p:H}}function I(){H.r||i(H.c),H=H.p}function K(t,n){t&&t.i&&(F.delete(t),t.i(n))}function Q(t,n,e,o){if(t&&t.o){if(F.has(t))return;F.add(t),H.c.push(()=>{F.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const U={duration:0};function V(e,o,s,u){let c=o(e,s),l=u?0:1,p=null,h=null,$=null;function b(){$&&z(e,$)}function v(t,n){const e=t.b-l;return n*=Math.abs(e),{a:l,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function _(o){const{delay:r=0,duration:s=300,easing:u=n,tick:_=t,css:y}=c||U,x={start:a()+r,b:o};o||(x.group=H,H.r+=1),p?h=x:(y&&(b(),$=N(e,l,o,s,r,u,y)),o&&_(0,1),p=v(x,s),L(()=>D(e,o,"start")),function(t){let n;m||(m=!0,d(g)),new Promise(e=>{f.add(n=[t,e])})}(t=>{if(h&&t>h.start&&(p=v(h,s),h=null,D(e,p.b,"start"),y&&(b(),$=N(e,l,p.b,p.duration,0,u,c.css))),p)if(t>=p.end)_(l=p.b,1-l),D(e,p.b,"end"),h||(p.b?b():--p.group.r||i(p.group.c)),p=null;else if(t>=p.start){const n=t-p.start;l=p.a+p.d*u(n/p.duration),_(l,1-l)}return!(!p&&!h)}))}return{run(t){r(c)?(R||(R=Promise.resolve()).then(()=>{R=null}),R).then(()=>{c=c(),_(t)}):_(t)},end(){b(),p=h=null}}}function W(t,n){Q(t,1,1,()=>{n.delete(t.key)})}function Y(t,n,o){const{fragment:s,on_mount:u,on_destroy:c,after_update:l}=t.$$;s.m(n,o),L(()=>{const n=u.map(e).filter(r);c?c.push(...n):i(n),t.$$.on_mount=[]}),l.forEach(L)}function Z(t,n){t.$$.fragment&&(i(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function tt(t,n){t.$$.dirty||(A.push(t),q||(q=!0,P.then(T)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function nt(n,e,r,s,u,c){const l=E;M(n);const a=e.props||{},d=n.$$={fragment:null,ctx:null,props:c,update:t,not_equal:u,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:null};let f=!1;var p;d.ctx=r?r(n,a,(t,e,o=e)=>(d.ctx&&u(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),f&&tt(n,t)),e)):a,d.update(),f=!0,i(d.before_update),d.fragment=s(d.ctx),e.target&&(e.hydrate?d.fragment.l((p=e.target,Array.from(p.childNodes))):d.fragment.c(),e.intro&&K(n.$$.fragment),Y(n,e.target,e.anchor),T()),M(l)}class et{$destroy(){Z(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const ot=[];function it(n,e=t){let o;const i=[];function r(t){if(s(n,t)&&(n=t,o)){const t=!ot.length;for(let t=0;t<i.length;t+=1){const e=i[t];e[1](),ot.push(e,n)}if(t){for(let t=0;t<ot.length;t+=2)ot[t][0](ot[t+1]);ot.length=0}}}return{set:r,update:function(t){r(t(n))},subscribe:function(s,u=t){const c=[s,u];return i.push(c),1===i.length&&(o=e(r)||t),s(n),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}const rt=it(),st=it();let ut=[{x:1,y:1,done:!1,text:"",addClass:!1,group:["a","d","s"]},{x:2,y:1,done:!1,text:"",addClass:!1,group:["a","f"]},{x:3,y:1,done:!1,text:"",addClass:!1,group:["a","g","z"]},{x:1,y:2,done:!1,text:"",addClass:!1,group:["b","d"]},{x:2,y:2,done:!1,text:"",addClass:!1,group:["b","f","s","z"]},{x:3,y:2,done:!1,text:"",addClass:!1,group:["b","g"]},{x:1,y:3,done:!1,text:"",addClass:!1,group:["c","d","z"]},{x:2,y:3,done:!1,text:"",addClass:!1,group:["c","f"]},{x:3,y:3,done:!1,text:"",addClass:!1,group:["c","g","s"]}],ct={a:[],b:[],c:[],d:[],f:[],g:[],s:[],z:[]};function lt(t,{delay:n=0,duration:e=400}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:e,css:t=>`opacity: ${t*o}`}}function at(n){var e,o,i=n.item.text+"";return{c(){e=v("div"),o=_(i)},m(t,n){$(t,e,n),h(e,o)},p(t,n){t.item&&i!==(i=n.item.text+"")&&k(o,i)},i:t,o:t,d(t){t&&b(e)}}}function dt(t){var n,e,o,i,r=t.item.text+"";return{c(){n=v("div"),e=_(r)},m(t,o){$(t,n,o),h(n,e),i=!0},p(t,n){i&&!t.item||r===(r=n.item.text+"")||k(e,r)},i(t){i||(L(()=>{o||(o=V(n,lt,{delay:200,duration:200},!0)),o.run(1)}),i=!0)},o(t){o||(o=V(n,lt,{delay:200,duration:200},!1)),o.run(0),i=!1},d(t){t&&(b(n),o&&o.end())}}}function ft(t){var n,e,o,i,r,s=[dt,at],u=[];function c(t,n){return"O"===n.item.text?0:1}return e=c(0,t),o=u[e]=s[e](t),{c(){n=v("div"),o.c(),C(n,"class","item svelte-y99sbq"),w(n,"completed",t.item.addClass),r=x(n,"click",t.click_handler)},m(t,o){$(t,n,o),u[e].m(n,null),i=!0},p(t,i){var r=e;(e=c(0,i))===r?u[e].p(t,i):(G(),Q(u[r],1,1,()=>{u[r]=null}),I(),(o=u[e])||(o=u[e]=s[e](i)).c(),K(o,1),o.m(n,null)),t.item&&w(n,"completed",i.item.addClass)},i(t){i||(K(o),i=!0)},o(t){Q(o),i=!1},d(t){t&&b(n),u[e].d(),r()}}}function pt(t,n,e){let{item:o={}}=n;return t.$set=(t=>{"item"in t&&e("item",o=t.item)}),{item:o,click_handler:function(n){!function(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach(t=>t(n))}(t,n)}}}class mt extends et{constructor(t){super(),nt(this,t,pt,ft,s,["item"])}}function gt(t,n,e){const o=Object.create(t);return o.item=n[e],o.i=e,o}function ht(n){var e,o;return{c(){(e=v("button")).textContent="Начать игру",C(e,"class","start"),o=x(e,"click",n.start)},m(t,n){$(t,e,n)},p:t,i:t,o:t,d(t){t&&b(e),o()}}}function $t(t){var n,e,o=[],i=new Map;let r=t.$items;const s=t=>t.i;for(let n=0;n<r.length;n+=1){let e=gt(t,r,n),u=s(e);i.set(u,o[n]=bt(u,e))}return{c(){n=v("div");for(let t=0;t<o.length;t+=1)o[t].c();C(n,"class","wrap svelte-wnrhl8")},m(t,i){$(t,n,i);for(let t=0;t<o.length;t+=1)o[t].m(n,null);e=!0},p(t,e){const r=e.$items;G(),o=function(t,n,e,o,i,r,s,u,c,l,a,d){let f=t.length,p=r.length,m=f;const g={};for(;m--;)g[t[m].key]=m;const h=[],$=new Map,b=new Map;for(m=p;m--;){const t=d(i,r,m),u=e(t);let c=s.get(u);c?o&&c.p(n,t):(c=l(u,t)).c(),$.set(u,h[m]=c),u in g&&b.set(u,Math.abs(m-g[u]))}const v=new Set,_=new Set;function y(t){K(t,1),t.m(u,a),s.set(t.key,t),a=t.first,p--}for(;f&&p;){const n=h[p-1],e=t[f-1],o=n.key,i=e.key;n===e?(a=n.first,f--,p--):$.has(i)?!s.has(o)||v.has(o)?y(n):_.has(i)?f--:b.get(o)>b.get(i)?(_.add(o),y(n)):(v.add(i),f--):(c(e,s),f--)}for(;f--;){const n=t[f];$.has(n.key)||c(n,s)}for(;p;)y(h[p-1]);return h}(o,t,s,1,e,r,i,n,W,bt,null,gt),I()},i(t){if(!e){for(let t=0;t<r.length;t+=1)K(o[t]);e=!0}},o(t){for(let t=0;t<o.length;t+=1)Q(o[t]);e=!1},d(t){t&&b(n);for(let t=0;t<o.length;t+=1)o[t].d()}}}function bt(t,n){var e,o;var i=new mt({props:{item:n.item}});return i.$on("click",function(){return n.click_handler(n)}),{key:t,first:null,c(){e=_(""),i.$$.fragment.c(),this.first=e},m(t,n){$(t,e,n),Y(i,t,n),o=!0},p(t,e){n=e;var o={};t.$items&&(o.item=n.item),i.$set(o)},i(t){o||(K(i.$$.fragment,t),o=!0)},o(t){Q(i.$$.fragment,t),o=!1},d(t){t&&b(e),Z(i,t)}}}function vt(t){var n,e;return{c(){n=v("h2"),e=_(t.vin),C(n,"class","vin svelte-wnrhl8")},m(t,o){$(t,n,o),h(n,e)},p(t,n){t.vin&&k(e,n.vin)},d(t){t&&b(n)}}}function _t(t){var n,e,o,i,r,s;return{c(){var u,c,l;(n=v("h2")).textContent="Игра окончена",e=y(),(o=v("h4")).textContent="Перед продолжением выберите кто начнёт",i=y(),(r=v("button")).textContent="Начать новую игру",u="color",c="orange",o.style.setProperty(u,c,l?"important":""),C(r,"class","start"),s=x(r,"click",t.start)},m(t,s){$(t,n,s),$(t,e,s),$(t,o,s),$(t,i,s),$(t,r,s)},d(t){t&&(b(n),b(e),b(o),b(i),b(r)),s()}}}function yt(t){var n,e,o,r,s,u,c,l,a,d,f,p,m,g,k,w,E,O,S,N,z,M=[$t,ht],A=[];function j(t,n){return n.isBegining?1:0}w=j(0,t),E=A[w]=M[w](t);var B=t.vin&&vt(t),J=t.isEnd&&_t(t);return{c(){n=v("div"),(e=v("h2")).textContent="крестики-нолики",o=y(),(r=v("h4")).textContent="Начинает:",s=y(),u=v("label"),c=v("input"),l=_("\r\n    пользователь"),a=y(),d=v("label"),f=v("input"),p=_("\r\n    компьютер"),m=y(),g=v("br"),k=y(),E.c(),O=y(),B&&B.c(),S=y(),J&&J.c(),t.$$binding_groups[0].push(c),C(c,"type","radio"),c.__value="user",c.value=c.__value,t.$$binding_groups[0].push(f),C(f,"type","radio"),f.__value="comp",f.value=f.__value,C(n,"class","container svelte-wnrhl8"),z=[x(c,"change",t.input0_change_handler),x(f,"change",t.input1_change_handler)]},m(i,b){$(i,n,b),h(n,e),h(n,o),h(n,r),h(n,s),h(n,u),h(u,c),c.checked=c.__value===t.selected,t.input0_binding(c),h(u,l),h(n,a),h(n,d),h(d,f),f.checked=f.__value===t.selected,t.input1_binding(f),h(d,p),h(n,m),h(n,g),h(n,k),A[w].m(n,null),h(n,O),B&&B.m(n,null),h(n,S),J&&J.m(n,null),N=!0},p(t,e){t.selected&&(c.checked=c.__value===e.selected),t.selected&&(f.checked=f.__value===e.selected);var o=w;(w=j(0,e))===o?A[w].p(t,e):(G(),Q(A[o],1,1,()=>{A[o]=null}),I(),(E=A[w])||(E=A[w]=M[w](e)).c(),K(E,1),E.m(n,O)),e.vin?B?B.p(t,e):((B=vt(e)).c(),B.m(n,S)):B&&(B.d(1),B=null),e.isEnd?J||((J=_t(e)).c(),J.m(n,null)):J&&(J.d(1),J=null)},i(t){N||(K(E),N=!0)},o(t){Q(E),N=!1},d(e){e&&b(n),t.$$binding_groups[0].splice(t.$$binding_groups[0].indexOf(c),1),t.input0_binding(null),t.$$binding_groups[0].splice(t.$$binding_groups[0].indexOf(f),1),t.input1_binding(null),A[w].d(),B&&B.d(),J&&J.d(),i(z)}}}function xt(t){t.text="O",t.done=!0}function Ct(t,n,e){let o,i;u(t,rt,t=>{e("$items",o=t)}),u(t,st,t=>{e("$groups",i=t)});let r,s,l,a,d,f="user",p=!0,m=!1;function g(t){for(let n in i)t.group.some(t=>t==n)&&i[n].push(t);d=o.filter(t=>!t.done)}function h(t){if(!m)if(t.done)alert("Эта клетка уже заполнена");else{t.text="X",t.done=!0,rt.set(o),g(t);for(let t in i)if(3===i[t].length&&i[t].every(t=>"X"===t.text))return i[t].forEach(t=>t.addClass=!0),e("vin",r="Вы победили!"),e("isEnd",m=!0),e("comp",s.disabled=!1,s),void e("user",l.disabled=!1,l);for(let t in i)if(2===i[t].length&&"O"===i[t][0].text&&"O"===i[t][1].text)return xt(a=d.find(n=>n.group.some(n=>n==t))),g(a),i[t].forEach(t=>t.addClass=!0),e("vin",r="Победил компьютер"),e("isEnd",m=!0),e("comp",s.disabled=!1,s),void e("user",l.disabled=!1,l);for(let t in i)if(2===i[t].length&&i[t][0].text===i[t][1].text)return xt(a=d.find(n=>n.group.some(n=>n==t))),g(a),void(0===d.length&&(setTimeout(()=>e("isEnd",m=!0),500),e("comp",s.disabled=!1,s),e("user",l.disabled=!1,l)));o[4].done?0!==d.length&&(1!==d.length&&d.some((t,n,e)=>!!t.group.some(t=>"s"===t||"z"===t)&&(xt(e[n]),g(e[n]),!0))?console.log("Привет! Удачи!"):(xt(d[0]),g(d[0]))):(xt(o[4]),g(o[4])),0===d.length&&(setTimeout(()=>e("isEnd",m=!0),500),e("comp",s.disabled=!1,s),e("user",l.disabled=!1,l))}}return{vin:r,comp:s,user:l,selected:f,isBegining:p,isEnd:m,start:function(){e("vin",r=""),a=[],d=[],c(rt,o=JSON.parse(JSON.stringify(ut))),c(st,i=JSON.parse(JSON.stringify(ct))),e("isBegining",p=!1),e("isEnd",m=!1),"comp"===f&&(c(rt,o[4].text="O",o),c(rt,o[4].done=!0,o),rt.set(o),g(o[4])),e("comp",s.disabled=!0,s),e("user",l.disabled=!0,l)},mainHandler:h,$items:o,input0_change_handler:function(){f=this.__value,e("selected",f)},input0_binding:function(t){j[t?"unshift":"push"](()=>{e("user",l=t)})},input1_change_handler:function(){f=this.__value,e("selected",f)},input1_binding:function(t){j[t?"unshift":"push"](()=>{e("comp",s=t)})},click_handler:({item:t})=>h(t),$$binding_groups:[[]]}}return new class extends et{constructor(t){super(),nt(this,t,Ct,yt,s,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
